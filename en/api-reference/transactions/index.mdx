---
title: "Transaction"
description: "The Transaction object and its attributes"
---

A **Transaction** represents a payment charge created for your customer. Each transaction has a status, a payment method, amounts, and optional metadata.

## The Transaction object

```json
{
  "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "externalId": "order-12345",
  "method": "Pix",
  "amount": 15000,
  "fee": 300,
  "netAmount": 14700,
  "currency": "BRL",
  "status": "Completed",
  "description": "Purchase at My Store",
  "environment": "Production",
  "customerId": "cust-uuid",
  "customer": {
    "id": "cust-uuid",
    "name": "John Smith",
    "email": "john@example.com",
    "document": "12345678901"
  },
  "pix": {
    "txId": "E1234567890",
    "qrCode": "data:image/png;base64,...",
    "copyAndPaste": "00020126...",
    "expiresAt": "2024-01-15T23:59:00Z"
  },
  "expiresAt": "2024-01-15T23:59:00Z",
  "createdAt": "2024-01-15T10:00:00Z",
  "completedAt": "2024-01-15T10:05:00Z"
}
```

---

## Attributes

<ParamField body="id" type="string">
  Unique UUID v4 identifier, auto-generated by Safefy.
</ParamField>

<ParamField body="externalId" type="string">
  Your internal identifier for this transaction.
</ParamField>

<ParamField body="method" type="string">
  Payment method used: `Pix` or `Boleto`.
</ParamField>

<ParamField body="amount" type="integer">
  Total amount charged, in **cents**. Example: `15000` = R$150.00.
</ParamField>

<ParamField body="fee" type="integer">
  Safefy platform fee for this transaction, in cents.
</ParamField>

<ParamField body="netAmount" type="integer">
  Amount after fee deduction (`amount - fee`), in cents. This is the amount credited to your balance.
</ParamField>

<ParamField body="currency" type="string">
  Currency code. Always `BRL`.
</ParamField>

<ParamField body="status" type="string">
  Current transaction status. See the [lifecycle](#transaction-lifecycle) section below.
</ParamField>

<ParamField body="description" type="string">
  Optional description shown on the payer's bank statement.
</ParamField>

<ParamField body="environment" type="string">
  Environment where this transaction was created: `Sandbox` or `Production`.
</ParamField>

<ParamField body="customerId" type="string">
  ID of the customer linked to this transaction, if any.
</ParamField>

<Expandable title="customer">
  <ParamField body="customer.id" type="string">UUID of the customer.</ParamField>
  <ParamField body="customer.name" type="string">Customer's full name.</ParamField>
  <ParamField body="customer.email" type="string">Customer's email address.</ParamField>
  <ParamField body="customer.document" type="string">Customer's CPF or CNPJ.</ParamField>
</Expandable>

<Expandable title="pix (when method = Pix)">
  <ParamField body="pix.txId" type="string">Transaction ID registered at the Central Bank of Brazil (BACEN).</ParamField>
  <ParamField body="pix.qrCode" type="string">QR Code image as a base64 data URI (`data:image/png;base64,...`).</ParamField>
  <ParamField body="pix.copyAndPaste" type="string">PIX Copy & Paste code in EMV format. Use this to generate your own QR Code image.</ParamField>
  <ParamField body="pix.expiresAt" type="string">PIX expiration date in ISO 8601 format.</ParamField>
</Expandable>

<Expandable title="boleto (when method = Boleto)">
  <ParamField body="boleto.barcode" type="string">Boleto barcode string.</ParamField>
  <ParamField body="boleto.digitableLine" type="string">Boleto digitable line (linha digitável).</ParamField>
  <ParamField body="boleto.pdfUrl" type="string">URL to the boleto PDF.</ParamField>
  <ParamField body="boleto.dueDate" type="string">Boleto due date in ISO 8601 format.</ParamField>
</Expandable>

<ParamField body="expiresAt" type="string">
  Transaction expiration date/time in ISO 8601 format. The transaction becomes `Expired` if not paid before this time.
</ParamField>

<ParamField body="createdAt" type="string">
  Date and time when the transaction was created, in ISO 8601 format.
</ParamField>

<ParamField body="completedAt" type="string">
  Date and time when the payment was confirmed, in ISO 8601 format. `null` if payment has not been received.
</ParamField>

---

## Transaction lifecycle

```
Pending  Processing  Completed
               
Expired       Failed
                
            Refunded
```

| Status | Description |
|--------|-------------|
| `Pending` | Transaction created, awaiting payment |
| `Processing` | Payment detected, being processed by the acquirer |
| `Completed` | Payment confirmed and balance credited |
| `Expired` | Transaction was not paid before the expiration time |
| `Failed` | An error occurred during payment processing |
| `Refunded` | Payment was reversed after confirmation |

---

## Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/transactions` | [Create a transaction](/en/api-reference/transactions/create) |
| `GET` | `/v1/transactions` | [List transactions](/en/api-reference/transactions/list) |
| `GET` | `/v1/transactions/{id}` | [Get a transaction](/en/api-reference/transactions/get) |
| `POST` | `/v1/transactions/{id}/simulate` | [Simulate a transaction](/en/api-reference/transactions/simulate) (Sandbox only) |

For webhook events fired when transaction statuses change, see [Transaction Webhooks](/en/api-reference/transactions/webhooks).